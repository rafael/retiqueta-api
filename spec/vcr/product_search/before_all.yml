---
http_interactions:
- request:
    method: head
    uri: http://elasticsearch:9200/products-test
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept:
      - "*/*"
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Content-Type:
      - text/plain; charset=UTF-8
      Content-Length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:49 GMT
- request:
    method: put
    uri: http://elasticsearch:9200/products-test
    body:
      encoding: UTF-8
      string: '{"settings":{"index":{"number_of_shards":5,"number_of_replicas":0,"analysis":{"filter":{"spanish_stop":{"type":"stop","stopwords":"_spanish_"},"spanish_stemmer":{"type":"stemmer","language":"light_spanish"}},"analyzer":{"spanish":{"tokenizer":"standard","filter":["lowercase","spanish_stop","spanish_stemmer","asciifolding"]}}}}},"mappings":{"product":{"dynamic":"false","properties":{"description":{"analyzer":"spanish","type":"string"},"username":{"analyzer":"spanish","type":"string"},"title":{"analyzer":"spanish","type":"string"},"category":{"analyzer":"spanish","type":"string"},"status":{"type":"string","index":"not_analyzed"},"likes":{"type":"long","index":"not_analyzed"},"created_at":{"type":"date","index":"not_analyzed"},"origin_time":{"type":"date","index":"not_analyzed"}}}}}'
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '21'
    body:
      encoding: UTF-8
      string: '{"acknowledged":true}'
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:49 GMT
- request:
    method: delete
    uri: http://elasticsearch:9200/products-test
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '21'
    body:
      encoding: UTF-8
      string: '{"acknowledged":true}'
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:49 GMT
- request:
    method: head
    uri: http://elasticsearch:9200/products-test
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept:
      - "*/*"
  response:
    status:
      code: 404
      message: Not Found
    headers:
      Content-Type:
      - text/plain; charset=UTF-8
      Content-Length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:49 GMT
- request:
    method: put
    uri: http://elasticsearch:9200/products-test
    body:
      encoding: UTF-8
      string: '{"settings":{"index":{"number_of_shards":5,"number_of_replicas":0,"analysis":{"filter":{"spanish_stop":{"type":"stop","stopwords":"_spanish_"},"spanish_stemmer":{"type":"stemmer","language":"light_spanish"}},"analyzer":{"spanish":{"tokenizer":"standard","filter":["lowercase","spanish_stop","spanish_stemmer","asciifolding"]}}}}},"mappings":{"product":{"dynamic":"false","properties":{"description":{"analyzer":"spanish","type":"string"},"username":{"analyzer":"spanish","type":"string"},"title":{"analyzer":"spanish","type":"string"},"category":{"analyzer":"spanish","type":"string"},"status":{"type":"string","index":"not_analyzed"},"likes":{"type":"long","index":"not_analyzed"},"created_at":{"type":"date","index":"not_analyzed"},"origin_time":{"type":"date","index":"not_analyzed"}}}}}'
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '21'
    body:
      encoding: UTF-8
      string: '{"acknowledged":true}'
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:50 GMT
- request:
    method: head
    uri: http://elasticsearch:9200/products-test
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/plain; charset=UTF-8
      Content-Length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:50 GMT
- request:
    method: post
    uri: http://elasticsearch:9200/products-test/product/_bulk
    body:
      encoding: UTF-8
      string: |
        {"index":{"_id":1}}
        {"id":1,"uuid":"adb4671b-fbf8-4af7-be33-2dcb9a4280cc","title":"Vendo #nike","description":"como nuevos","category":"zapatos","user_id":"cee0e139-8509-4585-aaf3-2b575975f470","price":40.0,"original_price":80.0,"currency":null,"status":"published","location":null,"lat_lon":null,"created_at":"2016-10-30T01:10:49.391Z","updated_at":"2016-10-30T01:10:49.391Z","featured":null,"cached_votes_total":0,"cached_votes_score":0,"cached_votes_up":0,"cached_votes_down":0,"cached_weighted_score":0,"cached_weighted_total":0,"cached_weighted_average":0.0,"size":null,"product_pictures":[{"id":1,"user_id":"2f0f2f91-60a7-4e82-aca2-aa777028bf23","product_id":"adb4671b-fbf8-4af7-be33-2dcb9a4280cc","position":0,"created_at":"2016-10-30T01:10:49.668Z","updated_at":"2016-10-30T01:10:49.668Z","pic_file_name":null,"pic_content_type":null,"pic_file_size":null,"pic_updated_at":null}],"username":"johnsnow1","likes":0,"origin_time":"2016-10-30T01:10:49.391Z"}
    headers:
      User-Agent:
      - Faraday v0.9.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Content-Length:
      - '176'
    body:
      encoding: UTF-8
      string: '{"took":487,"errors":false,"items":[{"index":{"_index":"products-test","_type":"product","_id":"1","_version":1,"_shards":{"total":1,"successful":1,"failed":0},"status":201}}]}'
    http_version: 
  recorded_at: Sun, 30 Oct 2016 01:10:50 GMT
recorded_with: VCR 2.9.3
